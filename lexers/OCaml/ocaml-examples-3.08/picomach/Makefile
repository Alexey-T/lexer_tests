# Makefile generated by imake - do not edit!
# $XConsortium: imake.c,v 1.91 95/01/12 16:15:47 kaleb Exp $

LIBDIR=/usr/local/lib/ocaml/
CAMLC=ocamlc
CAMLCOPT=ocamlopt
COMPFLAGS=-g
COMPFLAGSOPT=
CAMLLIBR=ocamllibr
CAMLLEX=ocamllex
CAMLYACC=ocamlyacc
CAMLDEP=ocamldep -pp camlp4o
CPP=/lib/cpp -P
RM=rm -f
CP=cp -p -f
TOP=../.
CONFIG=$(TOP)/config

all::
allopt:opt

# (begin Imakefile)

COMPFLAGS=-g -pp camlp4o

asm.OBJS=code.cmo stockage.cmo lexuniv.cmo lecture.cmo asm.cmo
asm.FILES=$(asm.OBJS:.cmo=.ml)

all::asm

depend::
	$(CAMLDEP) $(asm.FILES) >> Makefile

clean::
	$(RM) asm

asm: code.cmo stockage.cmo lexuniv.cmo lecture.cmo asm.cmo
	$(CAMLC) -pp camlp4o $(LINKFLAGS)  code.cmo stockage.cmo lexuniv.cmo lecture.cmo asm.cmo -o asm

COMPFLAGSOPT=-pp camlp4o

asm.BINOBJS=code.cmx stockage.cmx lexuniv.cmx lecture.cmx asm.cmx
asm.FILES=$(asm.BINOBJS:.cmx=.ml)

opt::asm.opt

depend::
	$(CAMLDEP) $(asm.FILES) >> Makefile

clean::
	$(RM) asm asm.opt

asm.opt: code.cmx stockage.cmx lexuniv.cmx lecture.cmx asm.cmx
	$(CAMLCOPT) -pp camlp4o $(LINKFLAGSOPT)  code.cmx stockage.cmx lexuniv.cmx lecture.cmx asm.cmx -o asm.opt
	$(CP) asm.opt asm

COMPFLAGS=-g -pp camlp4o

exec.OBJS=code.cmo simul.cmo exec.cmo
exec.FILES=$(exec.OBJS:.cmo=.ml)

all::exec

depend::
	$(CAMLDEP) $(exec.FILES) >> Makefile

clean::
	$(RM) exec

exec: code.cmo simul.cmo exec.cmo
	$(CAMLC) -pp camlp4o $(LINKFLAGS)  code.cmo simul.cmo exec.cmo -o exec

COMPFLAGSOPT=-pp camlp4o

exec.BINOBJS=code.cmx simul.cmx exec.cmx
exec.FILES=$(exec.BINOBJS:.cmx=.ml)

opt::exec.opt

depend::
	$(CAMLDEP) $(exec.FILES) >> Makefile

clean::
	$(RM) exec exec.opt

exec.opt: code.cmx simul.cmx exec.cmx
	$(CAMLCOPT) -pp camlp4o $(LINKFLAGSOPT)  code.cmx simul.cmx exec.cmx -o exec.opt
	$(CP) exec.opt exec

clean::
	$(RM) *.o

# (end Imakefile)

clean::
	$(RM) *.cmi *.cmix *.cmo *.cmx *.o a.out* *~ *.opt #*#

depend::

beforedepend::

mfile:
	imake -I$(CONFIG) -DTOPDIR=$(TOP)

makefiles:: beforedepend mfile depend

.SUFFIXES: .mli .cmi .ml .cmo .cmx

.mli.cmi:
	$(CAMLC) $(COMPFLAGS) -c $<

.ml.cmo:
	$(CAMLC) $(COMPFLAGS) -c $<

.ml.cmx:
	$(CAMLCOPT) $(COMPFLAGSOPT) -c $<

# Generated dependencies below

code.cmo: code.cmi 
code.cmx: code.cmi 
stockage.cmo: code.cmi stockage.cmi 
stockage.cmx: code.cmx stockage.cmi 
lexuniv.cmo: lexuniv.cmi 
lexuniv.cmx: lexuniv.cmi 
lecture.cmo: code.cmi lexuniv.cmi stockage.cmi lecture.cmi 
lecture.cmx: code.cmx lexuniv.cmx stockage.cmx lecture.cmi 
asm.cmo: lecture.cmi stockage.cmi 
asm.cmx: lecture.cmx stockage.cmx 
code.cmo: code.cmi 
code.cmx: code.cmi 
stockage.cmo: code.cmi stockage.cmi 
stockage.cmx: code.cmx stockage.cmi 
lexuniv.cmo: lexuniv.cmi 
lexuniv.cmx: lexuniv.cmi 
lecture.cmo: code.cmi lexuniv.cmi stockage.cmi lecture.cmi 
lecture.cmx: code.cmx lexuniv.cmx stockage.cmx lecture.cmi 
asm.cmo: lecture.cmi stockage.cmi 
asm.cmx: lecture.cmx stockage.cmx 
code.cmo: code.cmi 
code.cmx: code.cmi 
simul.cmo: code.cmi simul.cmi 
simul.cmx: code.cmx simul.cmi 
exec.cmo: code.cmi simul.cmi 
exec.cmx: code.cmx simul.cmx 
code.cmo: code.cmi 
code.cmx: code.cmi 
simul.cmo: code.cmi simul.cmi 
simul.cmx: code.cmx simul.cmi 
exec.cmo: code.cmi simul.cmi 
exec.cmx: code.cmx simul.cmx 
