# Makefile generated by imake - do not edit!
# $XConsortium: imake.c,v 1.91 95/01/12 16:15:47 kaleb Exp $

LIBDIR=/usr/local/lib/ocaml/
CAMLC=ocamlc
CAMLCOPT=ocamlopt
COMPFLAGS=-g
COMPFLAGSOPT=
CAMLLIBR=ocamllibr
CAMLLEX=ocamllex
CAMLYACC=ocamlyacc
CAMLDEP=ocamldep -pp camlp4o
CPP=/lib/cpp -P
RM=rm -f
CP=cp -p -f
TOP=../.
CONFIG=$(TOP)/config

all::
allopt:opt

# (begin Imakefile)

COMPFLAGS=-g -pp camlp4o

grep.OBJS=expr.cmo auto.cmo ensent.cmo determ.cmo grep.cmo
grep.FILES=$(grep.OBJS:.cmo=.ml)

all::grep

depend::
	$(CAMLDEP) $(grep.FILES) >> Makefile

clean::
	$(RM) grep

grep: expr.cmo auto.cmo ensent.cmo determ.cmo grep.cmo
	$(CAMLC) -pp camlp4o $(LINKFLAGS)  expr.cmo auto.cmo ensent.cmo determ.cmo grep.cmo -o grep

COMPFLAGSOPT=-pp camlp4o

fastgrep.BINOBJS=expr.cmx auto.cmx ensent.cmx determ.cmx grep.cmx
fastgrep.FILES=$(fastgrep.BINOBJS:.cmx=.ml)

opt::fastgrep.opt

depend::
	$(CAMLDEP) $(fastgrep.FILES) >> Makefile

clean::
	$(RM) fastgrep fastgrep.opt

fastgrep.opt: expr.cmx auto.cmx ensent.cmx determ.cmx grep.cmx
	$(CAMLCOPT) -pp camlp4o $(LINKFLAGSOPT)  expr.cmx auto.cmx ensent.cmx determ.cmx grep.cmx -o fastgrep.opt
	$(CP) fastgrep.opt fastgrep

cfastgrep.OBJS=expr.cmo auto.cmo ensent.cmo determ.cmo fastgrep.cmo fastrec.o
cfastgrep.FILES=$(cfastgrep.OBJS:.cmo=.ml)

all::cfastgrep

depend::
	$(CAMLDEP) $(cfastgrep.FILES) >> Makefile

clean::
	$(RM) cfastgrep

cfastgrep: expr.cmo auto.cmo ensent.cmo determ.cmo fastgrep.cmo fastrec.o
	$(CAMLC) $(LINKFLAGS) -custom  expr.cmo auto.cmo ensent.cmo determ.cmo fastgrep.cmo fastrec.o -o cfastgrep

fastrec.o: fastrec.c
	$(CAMLC) -c -I $(LIBDIR)/caml fastrec.c

clean::
	rm -f fastrec.o

# (end Imakefile)

clean::
	$(RM) *.cmi *.cmix *.cmo *.cmx *.o a.out* *~ *.opt #*#

depend::

beforedepend::

mfile:
	imake -I$(CONFIG) -DTOPDIR=$(TOP)

makefiles:: beforedepend mfile depend

.SUFFIXES: .mli .cmi .ml .cmo .cmx

.mli.cmi:
	$(CAMLC) $(COMPFLAGS) -c $<

.ml.cmo:
	$(CAMLC) $(COMPFLAGS) -c $<

.ml.cmx:
	$(CAMLCOPT) $(COMPFLAGSOPT) -c $<

# Generated dependencies below

expr.cmo: expr.cmi 
expr.cmx: expr.cmi 
auto.cmo: expr.cmi auto.cmi 
auto.cmx: expr.cmx auto.cmi 
ensent.cmo: ensent.cmi 
ensent.cmx: ensent.cmi 
determ.cmo: auto.cmi ensent.cmi determ.cmi 
determ.cmx: auto.cmx ensent.cmx determ.cmi 
grep.cmo: auto.cmi determ.cmi expr.cmi 
grep.cmx: auto.cmx determ.cmx expr.cmx 
expr.cmo: expr.cmi 
expr.cmx: expr.cmi 
auto.cmo: expr.cmi auto.cmi 
auto.cmx: expr.cmx auto.cmi 
ensent.cmo: ensent.cmi 
ensent.cmx: ensent.cmi 
determ.cmo: auto.cmi ensent.cmi determ.cmi 
determ.cmx: auto.cmx ensent.cmx determ.cmi 
grep.cmo: auto.cmi determ.cmi expr.cmi 
grep.cmx: auto.cmx determ.cmx expr.cmx 
expr.cmo: expr.cmi 
expr.cmx: expr.cmi 
auto.cmo: expr.cmi auto.cmi 
auto.cmx: expr.cmx auto.cmi 
ensent.cmo: ensent.cmi 
ensent.cmx: ensent.cmi 
determ.cmo: auto.cmi ensent.cmi determ.cmi 
determ.cmx: auto.cmx ensent.cmx determ.cmi 
fastgrep.cmo: auto.cmi determ.cmi expr.cmi fastrec.cmi 
fastgrep.cmx: auto.cmx determ.cmx expr.cmx fastrec.cmi 
