# Makefile generated by imake - do not edit!
# $XConsortium: imake.c,v 1.91 95/01/12 16:15:47 kaleb Exp $

LIBDIR=/usr/local/lib/ocaml/
CAMLC=ocamlc
CAMLCOPT=ocamlopt
COMPFLAGS=-g
COMPFLAGSOPT=
CAMLLIBR=ocamllibr
CAMLLEX=ocamllex
CAMLYACC=ocamlyacc
CAMLDEP=ocamldep -pp camlp4o
CPP=/lib/cpp -P
RM=rm -f
CP=cp -p -f
TOP=../.
CONFIG=$(TOP)/config

all::
allopt:opt

# (begin Imakefile)

COMPFLAGS=-g -pp camlp4o

asl.OBJS=prel.cmo asl.cmo token.cmo parser.cmo semant.cmo typing.cmo main.cmo run.cmo
asl.FILES=$(asl.OBJS:.cmo=.ml)

all::asl

depend::
	$(CAMLDEP) $(asl.FILES) >> Makefile

clean::
	$(RM) asl

asl: prel.cmo asl.cmo token.cmo parser.cmo semant.cmo typing.cmo main.cmo run.cmo
	$(CAMLC) -pp camlp4o $(LINKFLAGS)  prel.cmo asl.cmo token.cmo parser.cmo semant.cmo typing.cmo main.cmo run.cmo -o asl

COMPFLAGSOPT=-pp camlp4o

asl.BINOBJS=prel.cmx asl.cmx token.cmx parser.cmx semant.cmx typing.cmx main.cmx run.cmx
asl.FILES=$(asl.BINOBJS:.cmx=.ml)

opt::asl.opt

depend::
	$(CAMLDEP) $(asl.FILES) >> Makefile

clean::
	$(RM) asl asl.opt

asl.opt: prel.cmx asl.cmx token.cmx parser.cmx semant.cmx typing.cmx main.cmx run.cmx
	$(CAMLCOPT) -pp camlp4o $(LINKFLAGSOPT)  prel.cmx asl.cmx token.cmx parser.cmx semant.cmx typing.cmx main.cmx run.cmx -o asl.opt
	$(CP) asl.opt asl

# (end Imakefile)

clean::
	$(RM) *.cmi *.cmix *.cmo *.cmx *.o a.out* *~ *.opt #*#

depend::

beforedepend::

mfile:
	imake -I$(CONFIG) -DTOPDIR=$(TOP)

makefiles:: beforedepend mfile depend

.SUFFIXES: .mli .cmi .ml .cmo .cmx

.mli.cmi:
	$(CAMLC) $(COMPFLAGS) -c $<

.ml.cmo:
	$(CAMLC) $(COMPFLAGS) -c $<

.ml.cmx:
	$(CAMLCOPT) $(COMPFLAGSOPT) -c $<

# Generated dependencies below

prel.cmo: prel.cmi 
prel.cmx: prel.cmi 
asl.cmo: asl.cmi 
asl.cmx: asl.cmi 
token.cmo: token.cmi 
token.cmx: token.cmi 
parser.cmo: asl.cmi prel.cmi token.cmi parser.cmi 
parser.cmx: asl.cmx prel.cmx token.cmx parser.cmi 
semant.cmo: parser.cmi 
semant.cmx: parser.cmx 
typing.cmo: parser.cmi prel.cmi 
typing.cmx: parser.cmx prel.cmx 
main.cmo: asl.cmi parser.cmi prel.cmi semant.cmo token.cmi typing.cmo \
    main.cmi 
main.cmx: asl.cmx parser.cmx prel.cmx semant.cmx token.cmx typing.cmx \
    main.cmi 
run.cmo: main.cmi 
run.cmx: main.cmx 
prel.cmo: prel.cmi 
prel.cmx: prel.cmi 
asl.cmo: asl.cmi 
asl.cmx: asl.cmi 
token.cmo: token.cmi 
token.cmx: token.cmi 
parser.cmo: asl.cmi prel.cmi token.cmi parser.cmi 
parser.cmx: asl.cmx prel.cmx token.cmx parser.cmi 
semant.cmo: parser.cmi 
semant.cmx: parser.cmx 
typing.cmo: parser.cmi prel.cmi 
typing.cmx: parser.cmx prel.cmx 
main.cmo: asl.cmi parser.cmi prel.cmi semant.cmo token.cmi typing.cmo \
    main.cmi 
main.cmx: asl.cmx parser.cmx prel.cmx semant.cmx token.cmx typing.cmx \
    main.cmi 
run.cmo: main.cmi 
run.cmx: main.cmx 
